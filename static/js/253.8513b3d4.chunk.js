"use strict";(self.webpackChunkdate_app_react=self.webpackChunkdate_app_react||[]).push([[253],{253:(n,e,i)=>{i.r(e),i.d(e,{default:()=>C});var t,o,r,a,d,c,s,l,m,p,h=i(528),x=i(43),f=i(216),u=i(464),g=i(808),v=i(579);const b=u.Ay.div(t||(t=(0,h.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 80vh;\n  padding: 1rem;\n  text-align: center;\n"]))),j=u.Ay.h1(o||(o=(0,h.A)(["\n  color: #ffd700;\n  font-size: 1.8rem;\n  margin-bottom: 1.5rem;\n  \n  @media (min-width: 768px) {\n    font-size: 2.5rem;\n  }\n"]))),w=u.Ay.p(r||(r=(0,h.A)(["\n  color: #ffffff;\n  font-size: 1rem;\n  margin-bottom: 2rem;\n  max-width: 90%;\n  \n  @media (min-width: 768px) {\n    font-size: 1.2rem;\n    max-width: 70%;\n  }\n"]))),y=u.Ay.div(a||(a=(0,h.A)(["\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n  \n  @media (min-width: 768px) {\n    flex-direction: row;\n    gap: 2rem;\n  }\n"]))),A=u.Ay.div(d||(d=(0,h.A)(["\n  width: 150px;\n  height: 150px;\n  background-color: ",";\n  border: 5px solid #e67e22;\n  border-radius: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: ",";\n  transition: all 0.3s;\n  position: relative;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);\n  \n  &:hover {\n    transform: ",";\n  }\n  \n  &:before {\n    content: '?';\n    position: absolute;\n    font-size: 80px;\n    color: #e67e22;\n    opacity: ",";\n    transition: opacity 0.3s;\n  }\n  \n  @media (min-width: 768px) {\n    width: 180px;\n    height: 180px;\n  }\n"])),(n=>n.isRevealed?"#3498db":"#ffd700"),(n=>n.isRevealed?"default":"pointer"),(n=>n.isRevealed?"none":"translateY(-10px)"),(n=>n.isRevealed?0:1)),I=u.Ay.div(c||(c=(0,h.A)(["\n  padding: 2rem;\n  background-color: #3498db;\n  border-radius: 10px;\n  max-width: 90%;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);\n  \n  @media (min-width: 768px) {\n    max-width: 600px;\n  }\n"]))),S=u.Ay.h2(s||(s=(0,h.A)(["\n  color: #ffffff;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  \n  @media (min-width: 768px) {\n    font-size: 2rem;\n  }\n"]))),k=u.Ay.p(l||(l=(0,h.A)(["\n  color: #ffffff;\n  font-size: 1rem;\n  margin-bottom: 1.5rem;\n  \n  @media (min-width: 768px) {\n    font-size: 1.2rem;\n  }\n"]))),z=u.Ay.button(m||(m=(0,h.A)(["\n  background-color: #e74c3c;\n  color: white;\n  border: none;\n  border-radius: 10px;\n  padding: 12px 24px;\n  font-size: 1rem;\n  font-weight: bold;\n  cursor: pointer;\n  box-shadow: 0 4px 0 #c0392b;\n  transition: all 0.2s;\n  \n  &:hover {\n    transform: translateY(2px);\n    box-shadow: 0 2px 0 #c0392b;\n  }\n  \n  &:active {\n    transform: translateY(4px);\n    box-shadow: none;\n  }\n"]))),R=u.Ay.div(p||(p=(0,h.A)(["\n  background-color: #e74c3c;\n  color: white;\n  padding: 1rem;\n  border-radius: 10px;\n  margin-bottom: 1.5rem;\n  max-width: 90%;\n  \n  @media (min-width: 768px) {\n    max-width: 600px;\n  }\n"]))),C=n=>{let{activities:e}=n;const{encodedData:i}=(0,f.g)(),t=(0,f.Zp)(),[o,r]=(0,x.useState)([]),[a,d]=(0,x.useState)(null),[c,s]=(0,x.useState)(""),[l,m]=(0,x.useState)(""),[p,h]=(0,x.useState)(!1);(0,x.useEffect)((()=>{if(i)try{const{activityIds:n,creatorId:t}=(0,g.lj)(i);if(0===n.length)return void s("Este enlace no contiene actividades v\xe1lidas.");const o=n.map((n=>e.find((e=>e.id===n)))).filter((n=>void 0!==n));if(0===o.length)return void s("No se encontraron las actividades especificadas.");r(o),m(t)}catch(c){console.error("Error decoding data:",c),s("Enlace inv\xe1lido o corrupto.")}else s("No se proporcion\xf3 un enlace v\xe1lido.")}),[i,e]);const u=(n,e)=>{console.log("Notificando al creador ".concat(e," que se seleccion\xf3: ").concat(n.name));const i=JSON.parse(localStorage.getItem("notifications")||"{}");i[e]={activityId:n.id,activityName:n.name,timestamp:(new Date).toISOString()},localStorage.setItem("notifications",JSON.stringify(i))},C=()=>{t("/")};return c?(0,v.jsxs)(b,{children:[(0,v.jsx)(j,{children:"\xa1Ups! Algo sali\xf3 mal"}),(0,v.jsx)(R,{children:c}),(0,v.jsx)(z,{onClick:C,children:"Volver al Inicio"})]}):(0,v.jsx)(b,{children:p?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(j,{children:"\xa1Actividad Revelada!"}),(0,v.jsxs)(I,{children:[(0,v.jsx)(S,{children:null===a||void 0===a?void 0:a.name}),(0,v.jsx)(k,{children:null===a||void 0===a?void 0:a.description}),(0,v.jsx)("p",{children:"\xa1Tu pareja ha sido notificada de tu elecci\xf3n!"})]}),(0,v.jsx)("div",{style:{marginTop:"2rem"},children:(0,v.jsx)(z,{onClick:C,children:"Volver al Inicio"})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(j,{children:"\xa1Elige una Caja Sorpresa!"}),(0,v.jsx)(w,{children:"Tu pareja ha preparado algunas actividades sorpresa para ti. Elige una de las cajas para descubrir qu\xe9 actividad har\xe1n juntos."}),(0,v.jsx)(y,{children:[0,1,2].map((n=>(0,v.jsx)(A,{isRevealed:!1,onClick:()=>(()=>{if(p||!o.length)return;const n=Math.floor(Math.random()*o.length),e=o[n];d(e),h(!0),u(e,l)})()},n)))})]})})}},808:(n,e,i)=>{i.d(e,{Ij:()=>t,cK:()=>o,kg:()=>a,lj:()=>r});const t=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),o=(n,e)=>{const i={activities:n.map((n=>n.id)),creatorId:e};return encodeURIComponent(btoa(JSON.stringify(i)))},r=n=>{try{const e=JSON.parse(atob(decodeURIComponent(n)));return{activityIds:e.activities||[],creatorId:e.creatorId||""}}catch(e){return console.error("Error decoding URL data:",e),{activityIds:[],creatorId:""}}},a=(n,e)=>"".concat(n,"/reveal/").concat(e)}}]);
//# sourceMappingURL=253.8513b3d4.chunk.js.map